
This is a repository for the entire mockspec pipeline that uses functional forms
of the python code. 

To run this code, the following python packgages need to be installed:
    numpy
    pytables
    pandas


Overview:

    This code generates synthetic quasar absorption lines by running lines of sight (LOS) 
    through a simulated galaxy made with ART.  This repository has all the code required
    to generate and analyze the spectra. 


Before you run the code:
    
    There are a few steps that need to be taken before the code can be run. 

    1) Get the simulation in the correct format. ART output the entire simulation box, 
       typicaly 10Mpc along a side. Mockspec does not run on these boxes. It instead
       runs on a small box selected from the large box. This selection is done using 
       ANA, a code written by Daniel Ceverino and greatly imporved by Kenza Arraki. 
       It is found in funcs/ana/. Running ANA can be challenging. It reuires the 
       following simulation files:
            10MpcBox_HartGal_csf_a0.300.di
            10MpcBox_HartGal_csf.d
            PMcrda0.300.DAT
            PMcrs0a0.300.DAT    
            sf.dat


    2) Configure the run. The parameters of the run are set in the mockspec.config 
       file. There are three sections in this file. The first describes the 
       galaxy and basic code parameters.  These are mostly self-explanatory. The
       number of cores only affects the codes that can be run with parallization,
       namely cellfinder. The root location is not used by anything, so don't change it
    
       The second section determines which codes will be run. A 1 turns the code on, 
       a 0 turns it off. 

       The third section describes the ions to be probed and what instrument will be
       used for that ion. 


    3) Ensure the directory has all required files, namely the galaxy file 

    4) Make all compiled codes. This includes: cellfinder, los7, specsynth, sysabs, and cullabs

    5)

  
Running the code:
    The main driver is mockspec.py. Run this in the directory with the snapshot.   
    The final output is the ALL sysabs  
